{"version":3,"file":"/home/airam/Escritorio/P6 DSI/src/ejercicio-1/Combat.ts","sources":["/home/airam/Escritorio/P6 DSI/src/ejercicio-1/Combat.ts"],"names":[],"mappings":"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","sourcesContent":["\n/* eslint-disable max-len */\nimport {Fighter} from \"./Fighter\";\n\n/**\n * clase Combat que simula un combate entre dos luchadores\n */\nexport class Combat<T extends Fighter, L extends Fighter> {\n  private Fighter1:T;\n  private Fighter2:L;\n  constructor(Fighter1: T, Fighter2:L) {\n    this.Fighter1 = Fighter1;\n    this.Fighter2 = Fighter2;\n  }\n  /**\n * Metodo start que comienza la simulacion del combate\n * @returns un luchador, el cual es el ganador del mismo.\n */\n  start():Fighter|undefined {\n    const Fighter1Type = this.Fighter1.getType();\n    const Fighter2Type = this.Fighter2.getType();\n    let efficiency1: number = 1;\n    let efficiency2: number = 1;\n    // Marvel>DC>Pokemon>Marvel si los dos luchadores son pokemons codigo viejo, si son del mismo universo efectividad =0.5\n    if (this.Fighter1.getUniverse() === this.Fighter2.getUniverse()) {\n      // si los dos luchadores son del mismo universo\n\n      if (Fighter1Type === Fighter2Type) {\n        efficiency1 = 0.5;\n        efficiency2 = 0.5;\n      } else {\n        switch (Fighter1Type) {\n          case 'water':\n            switch (Fighter2Type) {\n              case 'fire':\n                efficiency1 = 2;\n                efficiency2 = 0.5;\n                break;\n\n              case 'grass':\n                efficiency1 = 0.5;\n                efficiency2 = 2;\n                break;\n\n              case 'electric':\n                efficiency1 = 0.5;\n                efficiency2 = 2;\n                break;\n            }\n            break;\n\n          case 'fire':\n            switch (Fighter2Type) {\n              case 'water':\n                efficiency1 = 0.5;\n                efficiency2 = 2;\n                break;\n\n              case 'grass':\n                efficiency1 = 2;\n                efficiency2 = 0.5;\n                break;\n\n              case 'electric':\n                efficiency1 = 1;\n                efficiency2 = 1;\n                break;\n            }\n            break;\n\n          case 'grass':\n            switch (Fighter2Type) {\n              case 'fire':\n                efficiency1 = 0.5;\n                efficiency2 = 2;\n                break;\n\n              case 'water':\n                efficiency1 = 2;\n                efficiency2 = 0.5;\n                break;\n\n              case 'electric':\n                efficiency1 = 1;\n                efficiency2 = 1;\n                break;\n            }\n            break;\n\n          case 'electric':\n            switch (Fighter2Type) {\n              case 'fire':\n                efficiency1 = 1;\n                efficiency2 = 1;\n                break;\n\n              case 'water':\n                efficiency1 = 2;\n                efficiency2 = 0.5;\n                break;\n\n              case 'grass':\n                efficiency1 = 1;\n                efficiency2 = 1;\n                break;\n            }\n            break;\n        }\n      }\n    } else {\n      switch (this.Fighter1.getUniverse()) {\n        case 'pokemon':\n          switch (this.Fighter2.getUniverse()) {\n            case 'marvel':\n              efficiency1 = 2;\n              efficiency2 = 0.5;\n              break;\n            case 'DC':\n              efficiency1 = 0.5;\n              efficiency2 = 2;\n              break;\n          }\n          break;\n        case 'marvel':\n          switch (this.Fighter2.getUniverse()) {\n            case 'pokemon':\n              efficiency1 = 0.5;\n              efficiency2 = 2;\n              break;\n            case 'DC':\n              efficiency1 = 2;\n              efficiency2 = 0.5;\n              break;\n          }\n        case 'DC':\n          switch (this.Fighter2.getUniverse()) {\n            case 'pokemon':\n              efficiency1 = 2;\n              efficiency2 = 0.5;\n              break;\n            case 'marvel':\n              efficiency1 = 0.5;\n              efficiency2 = 2;\n              break;\n          }\n      }\n    }\n\n    const Fighter1Hit:number = Math.round((50* (this.Fighter1.getStats().attack / this.Fighter2.getStats().defense) * efficiency1));\n    const Fighter2Hit:number = Math.round((50* (this.Fighter2.getStats().attack / this.Fighter1.getStats().defense) * efficiency2));\n    const hp1 = this.Fighter1.getStats().hp;\n    const hp2 = this.Fighter2.getStats().hp;\n    while (this.Fighter1.getStats().hp > 0 && this.Fighter2.getStats().hp > 0) {\n      console.log(':D');\n      this.Fighter2.setHp(this.Fighter2.getStats().hp - Fighter1Hit);\n      console.log(this.Fighter1.getName() + \" golpea a \" + this.Fighter2.getName() + \" le quita \" + Fighter1Hit);\n      console.log(this.Fighter1.getPhrase());\n      console.log(\"Al luchador \" + this.Fighter2.getName() + \" le quedan \" + this.Fighter2.getStats().hp + \" puntos de vida\");\n\n      if (this.Fighter2.getStats().hp <= 0 ) {\n        console.log(this.Fighter2.getName() + \" ha sido debilitado\");\n        this.Fighter1.setHp(hp1);\n        this.Fighter2.setHp(hp2);\n        return this.Fighter1;\n      }\n\n      this.Fighter1.setHp(this.Fighter1.getStats().hp - Fighter2Hit);\n      console.log(this.Fighter2.getName() + \" golpea a \" + this.Fighter1.getName() + \" le quita \" + Fighter2Hit);\n      console.log(this.Fighter2.getPhrase());\n      console.log(\"Al luchador \" + this.Fighter1.getName() + \" le quedan \" + this.Fighter1.getStats().hp + \" puntos de vida\");\n\n      if (this.Fighter1.getStats().hp <= 0 ) {\n        console.log(this.Fighter1.getName() + \" ha sido debilitado\");\n        this.Fighter1.setHp(hp1);\n        this.Fighter2.setHp(hp2);\n        return this.Fighter2;\n      }\n    }\n  }\n}\n\n\n// console.log(Pokedex1.getPokemon(0));\n\n\n"]}